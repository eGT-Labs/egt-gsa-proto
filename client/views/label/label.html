<div ng-switch="vm.status">
  <div ng-switch-when="loading">Loading...</div>
  <div ng-switch-when="error">Not found!</div>
  <div ng-switch-default>

    <h1>{{vm.label.openfda.brand_name[0]}}</h1>

		<alert type="danger" ng-if="vm.label.boxed_warning">
		<h4>Boxed Warning:</h4>

		<p ng-repeat="paragraph in vm.label.boxed_warning track by $index">
			{{paragraph}}</p>
		</alert>



	<!-- Label Field -->
    <tabset>
      <tab ng-repeat="(groupname, labelDetail) in labelDetails" heading="{{groupname}}" >
        <accordion close-others="false">
          <accordion-group is-open="false" ng-repeat="(fieldName, value) in labelDetail" heading="{{value.labelHeading}}">
            <div ng-repeat="line in value['data']">
              <span ng-bind-html="line | to_trusted"> {{ line }}</span>
            </div>
          </accordion-group>
        </accordion>
      </tab>
    </tabset>

  	<!-- 	OpenFDA Fields -->
		<h2>OpenFDA fields</h2>
		<div>
			<h4 ng-if="vm.label.boxed_warning">Product NDC</h4>

			<p ng-repeat="paragraph in vm.label.openfda.product_ndc track by $index">
				{{paragraph}}  </p>
			<h4>Subsctance Name</h4>
			<p ng-repeat="paragraph in vm.label.openfda.substance_name track by $index">
				{{paragraph}} <a ng-click="search('facet.substance_name',paragraph)"><i class="glyphicon glyphicon-search"></i></a> </p>
			<h4>Product Type</h4>
			<p ng-repeat="paragraph in vm.label.openfda.product_type track by $index">
				{{paragraph}} <a ng-click="search('facet.product_type',paragraph)"><i class="glyphicon glyphicon-search"></i></a></p>
			<h4>Generic Name</h4>
			<p ng-repeat="paragraph in vm.label.openfda.generic_name track by $index">
				{{paragraph}} <a ng-click="search('facet.generic_name',paragraph)"><i class="glyphicon glyphicon-search"></i></a></p>
			<h4>Manufacturer Name</h4>
			<p ng-repeat="paragraph in vm.label.openfda.manufacturer_name track by $index">
				{{paragraph}} <a ng-click="search('facet.manufacturer_name',paragraph)"><i class="glyphicon glyphicon-search"></i></a></p>
			<h4>Brand Name</h4>
			<p ng-repeat="paragraph in vm.label.openfda.brand_name track by $index">
				{{paragraph}} <a ng-click="search('facet.bbrand_name',paragraph)"><i class="glyphicon glyphicon-search"></i></a></p>
			<h4> Route </h4>
			<p ng-repeat="paragraph in vm.label.openfda.route track by $index">
				{{paragraph}} <a ng-click="search('facet.route',paragraph)"><i class="glyphicon glyphicon-search"></i></a> </p>
				<h4 ng-if="vm.label.openfda.package_ndc">Package NDC</h4>
				<p ng-repeat="paragraph in vm.label.openfda.package_ndc track by $index">
				{{paragraph}} </p>
				<h4 ng-if="paragraph in vm.label.openfda.application_number">Application Number</h4>
				<p ng-repeat="paragraph in vm.label.openfda.application_number track by $index">
				{{paragraph}}  </p>
				<h4 ng-if="paragraph in vm.label.openfda.warnings">Warnings</h4>
				<p ng-repeat="paragraph in vm.label.openfda.warnings track by $index">
				{{paragraph}}  </p>
				<h4 ng-if="paragraph in vm.label.when_using ">When using</h4>
				<p  ng-repeat="paragraph in vm.label.when_using track by $index">
				{{paragraph}}  </p>
				<h4 ng-if="paragraph in vm.label.openfda.is_original_packager">Originical Packager <input ng-repeat="paragraph in vm.label.openfda.is_original_packager track by $index" type="checkbox" ng-checked={{paragraph}} ng-disabled=true aria-label="Slave input">
				</h4>
				
			<hr>
		</div>

		<!-- Label Detail fields -->
		<!-- <div ng-repeat="(groupname, labelDetail) in labelDetails">
			<nav class="navbar"><h2>{{ groupname }}</h2></nav>
			<div ng-repeat="(fieldName, value) in labelDetail">

				<div ng-if="fieldName.indexOf('_table') > 0">
					<span ng-bind-html="value['data'][0] | to_trusted"> table </span>
				</div>

				<div ng-if="isArray(value['data']) && fieldName.indexOf('_table') == -1">

					<div ng-repeat="line in value['data']">

						<accordion> <accordion-group is-open="false">
						<accordion-heading> {{ value['labelHeading'] }}<i
							class="pull-right glyphicon"
							ng-class="{'glyphicon-chevron-down': statusAcc.open, 'glyphicon-chevron-right': !statusAcc.open}"></i>
						</accordion-heading>
						<p> {{ line }} </p>
						</accordion-group> </accordion>

					</div>
				</div>
				<div ng-if="!isArray(value['data']) && fieldName.indexOf('_table') == -1">{{
					value['data'] }}</div>
			</div>
			<hr>
		</div> -->



    <hr>

    <button class="btn btn-default" ng-click="jsonHidden = !jsonHidden">Show raw JSON</button>
    <div collapse="!jsonHidden">
      <pre>
{{vm.rawString}}
      </pre>
    </div>


  </div>

</div>

